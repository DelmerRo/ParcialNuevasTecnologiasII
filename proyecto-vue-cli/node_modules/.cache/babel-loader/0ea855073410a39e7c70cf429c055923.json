{"ast":null,"code":"import _regeneratorRuntime from \"C:/ORT/Nuevas Tecnologias II/TP4/proyecto-vue-cli/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"C:/ORT/Nuevas Tecnologias II/TP4/proyecto-vue-cli/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.object.to-string.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  name: 'src-componentes-http-client',\n  props: [],\n  mounted: function mounted() {},\n  data: function data() {\n    return {\n      url: 'https://628b0d3f667aea3a3e2655ba.mockapi.io/usuarios',\n      usuarios: []\n    };\n  },\n  methods: {\n    wrapperXHRpromise: function wrapperXHRpromise() {\n      var _this = this;\n\n      return new Promise(function (resolve, reject) {\n        var xhr = new XMLHttpRequest();\n        xhr.open('get', _this.url);\n        xhr.addEventListener('load', function () {\n          if (xhr.status == 200) {\n            var respuesta = JSON.parse(xhr.response);\n            resolve(respuesta);\n          } else {\n            console.error('ERROR XHR cb (status)', xhr.status);\n            var error = {\n              title: 'ERROR XHR cb (status)',\n              status: xhr.status\n            };\n            reject(error);\n          }\n        });\n        xhr.addEventListener('error', function (e) {\n          console.error('ERROR XHR cb (ajax)', e);\n          var error = {\n            title: 'ERROR XHR cb (ajax)',\n            info: e\n          };\n          reject(error);\n        });\n        xhr.send();\n      });\n    },\n    getUsuariosXHRcb: function getUsuariosXHRcb() {\n      var _this2 = this;\n\n      var xhr = new XMLHttpRequest();\n      xhr.open('get', this.url);\n      xhr.addEventListener('load', function () {\n        if (xhr.status == 200) {\n          var respuesta = JSON.parse(xhr.response);\n          _this2.usuarios = respuesta;\n        } else {\n          console.error('ERROR XHR cb (status)', xhr.status);\n        }\n      });\n      xhr.addEventListener('error', function (e) {\n        console.error('ERROR XHR cb (ajax)', e);\n      });\n      xhr.send();\n    },\n    getUsuariosXHRpromise: function getUsuariosXHRpromise() {\n      var _this3 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var respuesta;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                _context.next = 3;\n                return _this3.wrapperXHRpromise();\n\n              case 3:\n                respuesta = _context.sent;\n                //console.log(respuesta)\n                _this3.usuarios = respuesta;\n                _context.next = 10;\n                break;\n\n              case 7:\n                _context.prev = 7;\n                _context.t0 = _context[\"catch\"](0);\n                console.error('Error XHRpromise', _context.t0);\n\n              case 10:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[0, 7]]);\n      }))();\n    },\n    getUsuariosFetch: function getUsuariosFetch() {\n      var _this4 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n        var response, respuesta;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.prev = 0;\n                _context2.next = 3;\n                return fetch(_this4.url);\n\n              case 3:\n                response = _context2.sent;\n                _context2.next = 6;\n                return response.json();\n\n              case 6:\n                respuesta = _context2.sent;\n                _this4.usuarios = respuesta;\n                _context2.next = 13;\n                break;\n\n              case 10:\n                _context2.prev = 10;\n                _context2.t0 = _context2[\"catch\"](0);\n                console.error('Error Fetch', _context2.t0);\n\n              case 13:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, null, [[0, 10]]);\n      }))();\n    },\n    getUsuariosAxios: function getUsuariosAxios() {\n      var _this5 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {\n        var _yield$_this5$axios, data;\n\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.prev = 0;\n                _context3.next = 3;\n                return _this5.axios(_this5.url);\n\n              case 3:\n                _yield$_this5$axios = _context3.sent;\n                data = _yield$_this5$axios.data;\n                _this5.usuarios = data;\n                _context3.next = 11;\n                break;\n\n              case 8:\n                _context3.prev = 8;\n                _context3.t0 = _context3[\"catch\"](0);\n                console.error('Error Axios', _context3.t0);\n\n              case 11:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, null, [[0, 8]]);\n      }))();\n    }\n  },\n  computed: {}\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0CA;EACAA,mCADA;EAEAC,SAFA;EAGAC,OAHA,qBAGA,CAEA,CALA;EAMAC,IANA,kBAMA;IACA;MACAC,2DADA;MAEAC;IAFA;EAIA,CAXA;EAYAC;IACAC,iBADA,+BACA;MAAA;;MACA;QAEA;QACAC;QAEAA;UACA;YACA;YACAC;UACA,CAHA,MAIA;YACAC;YACA;cACAC,8BADA;cAEAC;YAFA;YAIAC;UACA;QACA,CAbA;QAeAL;UACAE;UACA;YACAC,4BADA;YAEAG;UAFA;UAIAD;QACA,CAPA;QASAL;MACA,CA9BA;IA+BA,CAjCA;IAmCAO,gBAnCA,8BAmCA;MAAA;;MACA;MACAP;MAEAA;QACA;UACA;UACA;QACA,CAHA,MAIA;UACAE;QACA;MACA,CARA;MAUAF;QACAE;MACA,CAFA;MAIAF;IACA,CAtDA;IAwDAQ,qBAxDA,mCAwDA;MAAA;;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA;gBAAA,OAEA,0BAFA;;cAAA;gBAEAC,SAFA;gBAGA;gBACA;gBAJA;gBAAA;;cAAA;gBAAA;gBAAA;gBAOAP;;cAPA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IASA,CAjEA;IAmEAQ,gBAnEA,8BAmEA;MAAA;;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA;gBAAA,OAEAC,iBAFA;;cAAA;gBAEAC,QAFA;gBAAA;gBAAA,OAGAA,eAHA;;cAAA;gBAGAH,SAHA;gBAIA;gBAJA;gBAAA;;cAAA;gBAAA;gBAAA;gBAOAP;;cAPA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IASA,CA5EA;IA8EAW,gBA9EA,8BA8EA;MAAA;;MAAA;QAAA;;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA;gBAAA,OAEA,wBAFA;;cAAA;gBAAA;gBAEAlB,IAFA,uBAEAA,IAFA;gBAGA;gBAHA;gBAAA;;cAAA;gBAAA;gBAAA;gBAMAO;;cANA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAQA;EAtFA,CAZA;EAoGAY;AApGA","names":["name","props","mounted","data","url","usuarios","methods","wrapperXHRpromise","xhr","resolve","console","title","status","reject","info","getUsuariosXHRcb","getUsuariosXHRpromise","respuesta","getUsuariosFetch","fetch","response","getUsuariosAxios","computed"],"sourceRoot":"src/components","sources":["HttpClient.vue"],"sourcesContent":["<template>\n\n  <section class=\"src-componentes-http-client\">\n     <div class=\"jumbotron\">\n      <h2>Componente HttpClient</h2>\n      <hr>\n      <hr>\n      <br>\n\n      <button class=\"btn btn-warning my-3 mr-3\" @click=\"getUsuariosXHRcb()\">Pedir XHR (cb)</button>\n      <button class=\"btn btn-success my-3 mr-3\" @click=\"getUsuariosXHRpromise()\">Pedir XHR (promise)</button>\n      <button class=\"btn btn-success my-3 mr-3\" @click=\"getUsuariosFetch()\">Pedir Fetch </button>\n      <button class=\"btn btn-success my-3 mr-3\" @click=\"getUsuariosAxios()\">Pedir Axios </button>\n      <button class=\"btn btn-danger my-3\" @click=\"usuarios=[]\">CLEAR</button>\n      <br>\n\n      <div v-if=\"usuarios.length\" class=\"table-responsive\">\n        <table class=\"table table-dark\">\n          <tr>\n            <th>Id</th>\n            <th>Nombre</th>\n            <th>Email</th>\n            <th>Telefono</th>\n          </tr>\n          <tr v-for=\"(usuario, index) in usuarios\" :key=\"index\">\n              <td>{{ usuario.id }}</td>\n              <td>{{ usuario.nombre }}</td>\n              <td>{{ usuario.email }}</td>\n              <td>{{ usuario.telefono }}</td>\n          </tr>\n        </table>\n        <h5 class=\"alert alert-primary\">Se encontraron {{usuarios.length}} usuarios.</h5>\n      </div>\n      <h4 v-else class=\"alert alert-danger text-center\">No se encontraron usuarios</h4>\n\n     </div>\n  </section>\n\n</template>\n\n<script>\n\n  export default  {\n    name: 'src-componentes-http-client',\n    props: [],\n    mounted () {\n\n    },\n    data () {\n      return {\n        url:'https://628b0d3f667aea3a3e2655ba.mockapi.io/usuarios',\n        usuarios: []\n      }\n    },\n    methods: {\n      wrapperXHRpromise() {\n        return new Promise((resolve,reject) => {\n         \n          const xhr = new XMLHttpRequest()\n          xhr.open('get', this.url)\n\n          xhr.addEventListener('load', () => {\n            if(xhr.status == 200) {\n              let respuesta = JSON.parse(xhr.response)\n              resolve(respuesta)\n            }\n            else {\n              console.error('ERROR XHR cb (status)', xhr.status)\n              let error = {\n                title: 'ERROR XHR cb (status)',\n                status: xhr.status\n              }\n              reject(error)\n            }\n          })\n\n          xhr.addEventListener('error', e => {\n              console.error('ERROR XHR cb (ajax)', e)\n              let error = {\n                title: 'ERROR XHR cb (ajax)',\n                info: e\n              }\n              reject(error)\n          })\n\n          xhr.send()\n        })\n      },\n      \n      getUsuariosXHRcb() {\n          const xhr = new XMLHttpRequest()\n          xhr.open('get', this.url)\n\n          xhr.addEventListener('load', () => {\n            if(xhr.status == 200) {\n              let respuesta = JSON.parse(xhr.response)\n              this.usuarios = respuesta\n            }\n            else {\n              console.error('ERROR XHR cb (status)', xhr.status)\n            }\n          })\n\n          xhr.addEventListener('error', e => {\n              console.error('ERROR XHR cb (ajax)', e)\n          })\n\n          xhr.send()\n      },\n\n      async getUsuariosXHRpromise() {\n          try {\n            let respuesta = await this.wrapperXHRpromise()\n            //console.log(respuesta)\n            this.usuarios = respuesta\n          }\n          catch(error) {\n            console.error('Error XHRpromise', error)\n          }\n      },\n      \n      async getUsuariosFetch() {\n        try {\n          let response = await fetch(this.url)\n          let respuesta = await response.json()\n          this.usuarios = respuesta\n        }\n        catch(error) {\n          console.error('Error Fetch', error)\n        }\n      },\n      \n      async getUsuariosAxios() {             \n        try {\n          let { data } = await this.axios(this.url)\n          this.usuarios = data\n        }\n        catch(error) {\n          console.error('Error Axios', error)\n        }   \n      }\n    },\n    computed: {\n\n    }\n}\n\n\n</script>\n\n<style scoped lang=\"css\">\n  .src-componentes-http-client {\n\n  }\n\n  .jumbotron {\n    background-color:steelblue;\n    color: white;\n  }\n\n  hr {\n    background-color: #bbb;\n  }  \n</style>\n"]},"metadata":{},"sourceType":"module"}